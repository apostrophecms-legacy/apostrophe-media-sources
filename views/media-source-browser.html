{% extends "apostrophe-modal:base.html" %}
{% import 'apostrophe-ui:components/buttons.html' as buttons %}
{% import 'apostrophe-ui:components/fields.html' as fields with context %}

{% block label %}{{ __ns('apostrophe', 'Browse') }} {{ data.provider }} {{ __ns('apostrophe', 'Images') }}{% endblock %}

{% block controls %}
  <div class="apos-modal-controls">
    {{ buttons.minor('Finished', { action: 'cancel' }) }}
    {{ buttons.major('Import', { action: 'import', attributes: 'data-import' }) }}
  </div>
{% endblock %}

{% block filters %}
  <div class="apos-clearfix apos-modal-filters-inner" data-filters>
    <form class="apos-modal-filters-toggles" data-media-sources-form>
      <div class="apos-modal-filters-wrapper apos-modal-filters-wrapper--left">
        <span class="apos-modal-filter">
          <label>{{ __ns('apostrophe', 'Select') }}</label>
          <div class="apos-modal-filter--padded">
            {{ fields.checkbox('select-all') }}
          </div>
        </span>

        {% if 'orientation' in data.options.standardFilters %}
          <div class="apos-modal-filter">
            <label>{{ __ns('apostrophe', 'Orientation') }}</label>
            <div class="apos-field-input-select-wrapper">
              <select
                class="apos-field-input apos-field-input-select"
                data-media-sources-filter
                title="orientation"
              >
                <option value="">{{ __ns('apostrophe', 'All') }}</option>
                <option value="landscape">{{ __ns('apostrophe', 'Landscape') }}</option>
                <option value="portrait">{{ __ns('apostrophe', 'Portrait') }}</option>
                <option value="square">{{ __ns('apostrophe', 'Square') }}</option>
              </select>
            </div>
          </div>
        {% endif %}

        {% for filter in data.options.customFilters %}
          <div class="apos-modal-filter">
            <label>{{ __ns('apostrophe', filter.label) }}</label>
            {% if filter.type === 'select' %}
              <div class="apos-field-input-select-wrapper">
                <select
                  class="apos-field-input apos-field-input-select"
                  data-media-sources-filter
                  title="{{ filter.name }}"
                >
                  {% for choice in filter.choices %}
                    <option value="{{ choice.value }}">{{ __ns('apostrophe', choice.label) }}</option>
                  {% endfor %}
                </select>
              </div>
            {% else %}
              <div class="apos-field-group">
                <input
                  class="apos-field-input apos-field-input-text"
                  type="{{ filter.inputType or 'text' }}"
                  {% if filter.inputType === 'number' -%} min="0" {%- endif %}
                  data-media-sources-filter
                  title="{{ filter.name }}"
                />
                {% if filter.range %}
                  <div class="apos-field-input-select-wrapper">
                    <select
                      class="apos-field-input apos-field-input-select"
                      data-media-sources-{{ filter.name }}-range
                    >
                      <option>{{ __ns('apostrophe', 'Min') }}</option>
                      <option>{{ __ns('apostrophe', 'Max') }}</option>
                    </select>
                  </div>
                {% endif %}
              </div>
            {% endif %}
          </div>
        {% endfor %}
      </div>

      {% if 'search' in data.options.standardFilters %}
        <div class="apos-modal-filters-wrapper apos-modal-filters-wrapper--right">
          <div class="apos-modal-filters-search">
            <input
              class="apos-field-input apos-field-input-text"
              type="text"
              placeholder="{{ __ns('apostrophe', 'Search Images...') }}"
              data-media-sources-filter
              title="search"
            />
          </div>
        </div>
      {% endif %}
    </form>
  </div>
{% endblock %}

{% block body %}New content here{% endblock %}
